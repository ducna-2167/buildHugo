/*! For license information please see app.js.LICENSE.txt */(()=>{var c={669:(a,c,b)=>{a.exports=b(609)},448:(d,k,a)=>{"use strict";var b=a(867),j=a(26),f=a(372),g=a(327),e=a(97),h=a(109),i=a(985),c=a(61);d.exports=function(a){return new Promise(function(p,k){var l=a.data,m=a.headers,d,q,r,n,o;if(b.isFormData(l)&&delete m["Content-Type"],d=new XMLHttpRequest,a.auth&&(q=a.auth.username||"",r=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"",m.Authorization="Basic "+btoa(q+":"+r)),n=e(a.baseURL,a.url),(d.open(a.method.toUpperCase(),g(n,a.params,a.paramsSerializer),!0),d.timeout=a.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var b="getAllResponseHeaders"in d?h(d.getAllResponseHeaders()):null,c={data:a.responseType&&"text"!==a.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:b,config:a,request:d};j(p,k,c),d=null}},d.onabort=function(){d&&(k(c("Request aborted",a,"ECONNABORTED",d)),d=null)},d.onerror=function(){k(c("Network Error",a,null,d)),d=null},d.ontimeout=function(){var b="timeout of "+a.timeout+"ms exceeded";a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),k(c(b,a,"ECONNABORTED",d)),d=null},b.isStandardBrowserEnv())&&(o=(a.withCredentials||i(n))&&a.xsrfCookieName?f.read(a.xsrfCookieName):void 0,o&&(m[a.xsrfHeaderName]=o)),"setRequestHeader"in d&&b.forEach(m,function(b,a){void 0===l&&"content-type"===a.toLowerCase()?delete m[a]:d.setRequestHeader(a,b)}),b.isUndefined(a.withCredentials)||(d.withCredentials=!!a.withCredentials),a.responseType)try{d.responseType=a.responseType}catch(b){if("json"!==a.responseType)throw b}"function"==typeof a.onDownloadProgress&&d.addEventListener("progress",a.onDownloadProgress),"function"==typeof a.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",a.onUploadProgress),a.cancelToken&&a.cancelToken.promise.then(function(a){d&&(d.abort(),k(a),d=null)}),l||(l=null),d.send(l)})}},609:(d,i,b)=>{"use strict";var f=b(867),g=b(849),c=b(321),h=b(185),a;function e(d){var a=new c(d),b=g(c.prototype.request,a);return f.extend(b,c.prototype,a),f.extend(b,a),b}a=e(b(655)),a.Axios=c,a.create=function(b){return e(h(a.defaults,b))},a.Cancel=b(263),a.CancelToken=b(972),a.isCancel=b(502),a.all=function(a){return Promise.all(a)},a.spread=b(713),a.isAxiosError=b(268),d.exports=a,d.exports.default=a},263:b=>{"use strict";function a(a){this.message=a}a.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},a.prototype.__CANCEL__=!0,b.exports=a},972:(b,e,c)=>{"use strict";var d=c(263);function a(c){var b,a;if("function"!=typeof c)throw new TypeError("executor must be a function.");this.promise=new Promise(function(a){b=a}),a=this,c(function(c){a.reason||(a.reason=new d(c),b(a.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var b;return{token:new a(function(a){b=a}),cancel:b}},b.exports=a},502:a=>{"use strict";a.exports=function(a){return!(!a||!a.__CANCEL__)}},321:(f,i,a)=>{"use strict";var d=a(867),g=a(327),e=a(782),h=a(572),c=a(185);function b(a){this.defaults=a,this.interceptors={request:new e,response:new e}}b.prototype.request=function(a){"string"==typeof a?(a=arguments[1]||{}).url=arguments[0]:a=a||{},(a=c(this.defaults,a)).method?a.method=a.method.toLowerCase():this.defaults.method?a.method=this.defaults.method.toLowerCase():a.method="get";var b=[h,void 0],d=Promise.resolve(a);for(this.interceptors.request.forEach(function(a){b.unshift(a.fulfilled,a.rejected)}),this.interceptors.response.forEach(function(a){b.push(a.fulfilled,a.rejected)});b.length;)d=d.then(b.shift(),b.shift());return d},b.prototype.getUri=function(a){return a=c(this.defaults,a),g(a.url,a.params,a.paramsSerializer).replace(/^\?/,"")},d.forEach(["delete","get","head","options"],function(a){b.prototype[a]=function(d,b){return this.request(c(b||{},{method:a,url:d,data:(b||{}).data}))}}),d.forEach(["post","put","patch"],function(a){b.prototype[a]=function(b,d,e){return this.request(c(e||{},{method:a,url:b,data:d}))}}),f.exports=b},782:(b,e,c)=>{"use strict";var d=c(867);function a(){this.handlers=[]}a.prototype.use=function(a,b){return this.handlers.push({fulfilled:a,rejected:b}),this.handlers.length-1},a.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)},a.prototype.forEach=function(a){d.forEach(this.handlers,function(b){null!==b&&a(b)})},b.exports=a},97:(b,e,a)=>{"use strict";var c=a(793),d=a(303);b.exports=function(b,a){return b&&!c(a)?d(b,a):a}},61:(a,d,b)=>{"use strict";var c=b(481);a.exports=function(a,b,d,e,f){var g=new Error(a);return c(g,b,d,e,f)}},572:(e,h,a)=>{"use strict";var d=a(867),c=a(527),f=a(502),g=a(655);function b(a){a.cancelToken&&a.cancelToken.throwIfRequested()}e.exports=function(a){return b(a),a.headers=a.headers||{},a.data=c(a.data,a.headers,a.transformRequest),a.headers=d.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),d.forEach(["delete","get","head","post","put","patch","common"],function(b){delete a.headers[b]}),(a.adapter||g.adapter)(a).then(function(d){return b(a),d.data=c(d.data,d.headers,a.transformResponse),d},function(d){return f(d)||(b(a),d&&d.response&&(d.response.data=c(d.response.data,d.response.headers,a.transformResponse))),Promise.reject(d)})}},481:a=>{"use strict";a.exports=function(a,c,b,d,e){return a.config=c,b&&(a.code=b),a.request=d,a.response=e,a.isAxiosError=!0,a.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},a}},185:(b,d,c)=>{"use strict";var a=c(867);b.exports=function(c,b){var d,f,g,h,i,k,l;b=b||{},d={},f=["url","method","data"],g=["headers","auth","proxy","params"],h=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],i=["validateStatus"];function e(c,b){return a.isPlainObject(c)&&a.isPlainObject(b)?a.merge(c,b):a.isPlainObject(b)?a.merge({},b):a.isArray(b)?b.slice():b}function j(f){a.isUndefined(b[f])?a.isUndefined(c[f])||(d[f]=e(void 0,c[f])):d[f]=e(c[f],b[f])}return a.forEach(f,function(c){a.isUndefined(b[c])||(d[c]=e(void 0,b[c]))}),a.forEach(g,j),a.forEach(h,function(f){a.isUndefined(b[f])?a.isUndefined(c[f])||(d[f]=e(void 0,c[f])):d[f]=e(void 0,b[f])}),a.forEach(i,function(a){a in b?d[a]=e(c[a],b[a]):a in c&&(d[a]=e(void 0,c[a]))}),k=f.concat(g).concat(h).concat(i),l=Object.keys(c).concat(Object.keys(b)).filter(function(a){return-1===k.indexOf(a)}),a.forEach(l,j),d}},26:(a,d,b)=>{"use strict";var c=b(61);a.exports=function(d,e,a){var b=a.config.validateStatus;a.status&&b&&!b(a.status)?e(c("Request failed with status code "+a.status,a.config,null,a.request,a)):d(a)}},527:(a,d,b)=>{"use strict";var c=b(867);a.exports=function(a,b,d){return c.forEach(d,function(c){a=c(a,b)}),a}},655:(h,i,b)=>{"use strict";var a=b(867),f=b(16),g={"Content-Type":"application/x-www-form-urlencoded"},e,c;function d(b,c){!a.isUndefined(b)&&a.isUndefined(b["Content-Type"])&&(b["Content-Type"]=c)}c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=b(448)),e),transformRequest:[function(b,c){return f(c,"Accept"),f(c,"Content-Type"),a.isFormData(b)||a.isArrayBuffer(b)||a.isBuffer(b)||a.isStream(b)||a.isFile(b)||a.isBlob(b)?b:a.isArrayBufferView(b)?b.buffer:a.isURLSearchParams(b)?(d(c,"application/x-www-form-urlencoded;charset=utf-8"),b.toString()):a.isObject(b)?(d(c,"application/json;charset=utf-8"),JSON.stringify(b)):b}],transformResponse:[function(a){if("string"==typeof a)try{a=JSON.parse(a)}catch(a){}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*"}}},a.forEach(["delete","get","head"],function(a){c.headers[a]={}}),a.forEach(["post","put","patch"],function(b){c.headers[b]=a.merge(g)}),h.exports=c},849:a=>{"use strict";a.exports=function(a,b){return function(){for(var d=new Array(arguments.length),c=0;c<d.length;c++)d[c]=arguments[c];return a.apply(b,d)}}},327:(c,e,d)=>{"use strict";var a=d(867);function b(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}c.exports=function(c,e,h){var d,f,g;return e?(h?d=h(e):a.isURLSearchParams(e)?d=e.toString():(f=[],a.forEach(e,function(c,d){null!=c&&(a.isArray(c)?d+="[]":c=[c],a.forEach(c,function(c){a.isDate(c)?c=c.toISOString():a.isObject(c)&&(c=JSON.stringify(c)),f.push(b(d)+"="+b(c))}))}),d=f.join("&")),d&&(g=c.indexOf("#"),-1!==g&&(c=c.slice(0,g)),c+=(-1===c.indexOf("?")?"?":"&")+d),c):c}},303:a=>{"use strict";a.exports=function(a,b){return b?a.replace(/\/+$/,"")+"/"+b.replace(/^\/+/,""):a}},372:(b,d,c)=>{"use strict";var a=c(867);b.exports=a.isStandardBrowserEnv()?{write:function(h,f,c,d,e,g){var b=[];b.push(h+"="+encodeURIComponent(f)),a.isNumber(c)&&b.push("expires="+new Date(c).toGMTString()),a.isString(d)&&b.push("path="+d),a.isString(e)&&b.push("domain="+e),!0===g&&b.push("secure"),document.cookie=b.join("; ")},read:function(b){var a=document.cookie.match(new RegExp("(^|;\\s*)("+b+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:a=>{"use strict";a.exports=function(a){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(a)}},268:a=>{"use strict";a.exports=function(a){return"object"==typeof a&&!0===a.isAxiosError}},985:(b,d,c)=>{"use strict";var a=c(867);b.exports=a.isStandardBrowserEnv()?function(){var c,e=/(msie|trident)/i.test(navigator.userAgent),b=document.createElement("a");function d(c){var a=c;return e&&(b.setAttribute("href",a),a=b.href),b.setAttribute("href",a),{href:b.href,protocol:b.protocol?b.protocol.replace(/:$/,""):"",host:b.host,search:b.search?b.search.replace(/^\?/,""):"",hash:b.hash?b.hash.replace(/^#/,""):"",hostname:b.hostname,port:b.port,pathname:"/"===b.pathname.charAt(0)?b.pathname:"/"+b.pathname}}return c=d(window.location.href),function(b){var e=a.isString(b)?d(b):b;return e.protocol===c.protocol&&e.host===c.host}}():function(){return!0}},16:(a,d,b)=>{"use strict";var c=b(867);a.exports=function(a,b){c.forEach(a,function(d,c){c!==b&&c.toUpperCase()===b.toUpperCase()&&(a[b]=d,delete a[c])})}},109:(b,e,c)=>{"use strict";var a=c(867),d=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];b.exports=function(g){var b,e,f,c={};return g?(a.forEach(g.split("\n"),function(g){if(f=g.indexOf(":"),b=a.trim(g.substr(0,f)).toLowerCase(),e=a.trim(g.substr(f+1)),b){if(c[b]&&d.indexOf(b)>=0)return;c[b]="set-cookie"===b?(c[b]?c[b]:[]).concat([e]):c[b]?c[b]+", "+e:e}}),c):c}},713:a=>{"use strict";a.exports=function(a){return function(b){return a.apply(null,b)}}},867:(h,k,i)=>{"use strict";var j=i(849),a=Object.prototype.toString;function d(b){return"[object Array]"===a.call(b)}function c(a){return void 0===a}function f(a){return null!==a&&"object"==typeof a}function b(b){if("[object Object]"!==a.call(b))return!1;var c=Object.getPrototypeOf(b);return null===c||c===Object.prototype}function g(b){return"[object Function]"===a.call(b)}function e(a,e){var b,f,c;if(null!=a)if("object"!=typeof a&&(a=[a]),d(a))for(b=0,f=a.length;b<f;b++)e.call(null,a[b],b,a);else for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&e.call(null,a[c],c,a)}h.exports={isArray:d,isArrayBuffer:function(b){return"[object ArrayBuffer]"===a.call(b)},isBuffer:function(a){return null!==a&&!c(a)&&null!==a.constructor&&!c(a.constructor)&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)},isFormData:function(a){return"undefined"!=typeof FormData&&a instanceof FormData},isArrayBufferView:function(a){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&a.buffer instanceof ArrayBuffer},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isObject:f,isPlainObject:b,isUndefined:c,isDate:function(b){return"[object Date]"===a.call(b)},isFile:function(b){return"[object File]"===a.call(b)},isBlob:function(b){return"[object Blob]"===a.call(b)},isFunction:g,isStream:function(a){return f(a)&&g(a.pipe)},isURLSearchParams:function(a){return"undefined"!=typeof URLSearchParams&&a instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:e,merge:function f(){var a={},c,h;function g(c,e){b(a[e])&&b(c)?a[e]=f(a[e],c):b(c)?a[e]=f({},c):d(c)?a[e]=c.slice():a[e]=c}for(c=0,h=arguments.length;c<h;c++)e(arguments[c],g);return a},extend:function(a,c,b){return e(c,function(c,d){a[d]=b&&"function"==typeof c?j(c,b):c}),a},trim:function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(a){return 65279===a.charCodeAt(0)&&(a=a.slice(1)),a}}},336:(b,c,e)=>{var a,d;!function(){var F,s,u,k,j,h,g,m,n,o,p,q,r,i,t,l,v,w,x,y,z,A,B,C,D,E,f=function(b){var a=new f.Builder;return a.pipeline.add(f.trimmer,f.stopWordFilter,f.stemmer),a.searchPipeline.add(f.stemmer),b.call(a,a),a.build()};f.version="2.3.9",f.utils={},f.utils.warn=(F=this,function(a){F.console&&console.warn&&console.warn(a)}),f.utils.asString=function(a){return null==a?"":a.toString()},f.utils.clone=function(b){var c,f,d,e,a;if(null==b)return b;for(c=Object.create(null),f=Object.keys(b),d=0;d<f.length;d++)if(e=f[d],a=b[e],Array.isArray(a))c[e]=a.slice();else{if("string"!=typeof a&&"number"!=typeof a&&"boolean"!=typeof a)throw new TypeError("clone is not deep and does not support nested objects");c[e]=a}return c},f.FieldRef=function(a,b,c){this.docRef=a,this.fieldName=b,this._stringValue=c},f.FieldRef.joiner="/",f.FieldRef.fromString=function(a){var b=a.indexOf(f.FieldRef.joiner),c,d;if(-1===b)throw"malformed field ref string";return c=a.slice(0,b),d=a.slice(b+1),new f.FieldRef(d,c,a)},f.FieldRef.prototype.toString=function(){return null==this._stringValue&&(this._stringValue=this.fieldName+f.FieldRef.joiner+this.docRef),this._stringValue},f.Set=function(a){if(this.elements=Object.create(null),a){this.length=a.length;for(var b=0;b<this.length;b++)this.elements[a[b]]=!0}else this.length=0},f.Set.complete={intersect:function(a){return a},union:function(){return this},contains:function(){return!0}},f.Set.empty={intersect:function(){return this},union:function(a){return a},contains:function(){return!1}},f.Set.prototype.contains=function(a){return!!this.elements[a]},f.Set.prototype.intersect=function(a){var b,c,d,g=[],e,h;if(a===f.Set.complete)return this;if(a===f.Set.empty)return a;this.length<a.length?(b=this,c=a):(b=a,c=this),d=Object.keys(b.elements);for(e=0;e<d.length;e++)h=d[e],h in c.elements&&g.push(h);return new f.Set(g)},f.Set.prototype.union=function(a){return a===f.Set.complete?f.Set.complete:a===f.Set.empty?this:new f.Set(Object.keys(this.elements).concat(Object.keys(a.elements)))},f.idf=function(b,d){var a=0,c,e;for(c in b)"_index"!=c&&(a+=Object.keys(b[c]).length);return e=(d-a+.5)/(a+.5),Math.log(1+Math.abs(e))},f.Token=function(a,b){this.str=a||"",this.metadata=b||{}},f.Token.prototype.toString=function(){return this.str},f.Token.prototype.update=function(a){return this.str=a(this.str,this.metadata),this},f.Token.prototype.clone=function(a){return a=a||function(a){return a},new f.Token(a(this.str,this.metadata),this.metadata)},f.tokenizer=function(b,j){var d,i,e,a,c,h,g;if(null==b||null==b)return[];if(Array.isArray(b))return b.map(function(a){return new f.Token(f.utils.asString(a).toLowerCase(),f.utils.clone(j))});for(d=b.toString().toLowerCase(),i=d.length,e=[],a=0,c=0;a<=i;a++)h=a-c,(d.charAt(a).match(f.tokenizer.separator)||a==i)&&(h>0&&(g=f.utils.clone(j)||{},g.position=[c,h],g.index=e.length,e.push(new f.Token(d.slice(c,a),g))),c=a+1);return e},f.tokenizer.separator=/[\s\-]+/,f.Pipeline=function(){this._stack=[]},f.Pipeline.registeredFunctions=Object.create(null),f.Pipeline.registerFunction=function(a,b){b in this.registeredFunctions&&f.utils.warn("Overwriting existing registered function: "+b),a.label=b,f.Pipeline.registeredFunctions[a.label]=a},f.Pipeline.warnIfFunctionNotRegistered=function(a){a.label&&a.label in this.registeredFunctions||f.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",a)},f.Pipeline.load=function(b){var a=new f.Pipeline;return b.forEach(function(b){var c=f.Pipeline.registeredFunctions[b];if(!c)throw new Error("Cannot load unregistered function: "+b);a.add(c)}),a},f.Pipeline.prototype.add=function(){var a=Array.prototype.slice.call(arguments);a.forEach(function(a){f.Pipeline.warnIfFunctionNotRegistered(a),this._stack.push(a)},this)},f.Pipeline.prototype.after=function(c,b){f.Pipeline.warnIfFunctionNotRegistered(b);var a=this._stack.indexOf(c);if(-1==a)throw new Error("Cannot find existingFn");a+=1,this._stack.splice(a,0,b)},f.Pipeline.prototype.before=function(c,a){f.Pipeline.warnIfFunctionNotRegistered(a);var b=this._stack.indexOf(c);if(-1==b)throw new Error("Cannot find existingFn");this._stack.splice(b,0,a)},f.Pipeline.prototype.remove=function(b){var a=this._stack.indexOf(b);-1!=a&&this._stack.splice(a,1)},f.Pipeline.prototype.run=function(b){for(var h=this._stack.length,e=0,g,f,c,a,d;e<h;e++){for(g=this._stack[e],f=[],c=0;c<b.length;c++)if(a=g(b[c],c,b),null!=a&&""!==a)if(Array.isArray(a))for(d=0;d<a.length;d++)f.push(a[d]);else f.push(a);b=f}return b},f.Pipeline.prototype.runString=function(a,b){var c=new f.Token(a,b);return this.run([c]).map(function(a){return a.toString()})},f.Pipeline.prototype.reset=function(){this._stack=[]},f.Pipeline.prototype.toJSON=function(){return this._stack.map(function(a){return f.Pipeline.warnIfFunctionNotRegistered(a),a.label})},f.Vector=function(a){this._magnitude=0,this.elements=a||[]},f.Vector.prototype.positionForIndex=function(c){if(0==this.elements.length)return 0;for(var d=0,f=this.elements.length/2,e=f-d,a=Math.floor(e/2),b=this.elements[2*a];e>1&&(b<c&&(d=a),b>c&&(f=a),b!=c);)e=f-d,a=d+Math.floor(e/2),b=this.elements[2*a];return b==c||b>c?2*a:b<c?2*(a+1):void 0},f.Vector.prototype.insert=function(a,b){this.upsert(a,b,function(){throw"duplicate index"})},f.Vector.prototype.upsert=function(b,c,d){this._magnitude=0;var a=this.positionForIndex(b);this.elements[a]==b?this.elements[a+1]=d(this.elements[a+1],c):this.elements.splice(a,0,b,c)},f.Vector.prototype.magnitude=function(){var b,d,a,c;if(this._magnitude)return this._magnitude;for(b=0,d=this.elements.length,a=1;a<d;a+=2)c=this.elements[a],b+=c*c;return this._magnitude=Math.sqrt(b)},f.Vector.prototype.dot=function(j){for(var g=0,e=this.elements,f=j.elements,h=e.length,i=f.length,c=0,d=0,a=0,b=0;a<h&&b<i;)(c=e[a])<(d=f[b])?a+=2:c>d?b+=2:c==d&&(g+=e[a+1]*f[b+1],a+=2,b+=2);return g},f.Vector.prototype.similarity=function(a){return this.dot(a)/this.magnitude()||0},f.Vector.prototype.toArray=function(){for(var b=new Array(this.elements.length/2),a=1,c=0;a<this.elements.length;a+=2,c++)b[c]=this.elements[a];return b},f.Vector.prototype.toJSON=function(){return this.elements},f.stemmer=(s={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},u={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},k="[aeiouy]",j="[^aeiou][^aeiouy]*",h=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),g=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),m=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),n=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),o=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,q=/^(.+?)eed$/,r=/^(.+?)(ed|ing)$/,i=/.$/,t=/(at|bl|iz)$/,l=new RegExp("([^aeiouylsz])\\1$"),v=new RegExp("^"+j+k+"[^aeiouwxy]$"),w=/^(.+?[^aeiou])y$/,x=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,y=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,z=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,A=/^(.+?)(s|t)(ion)$/,B=/^(.+?)e$/,C=/ll$/,D=new RegExp("^"+j+k+"[^aeiouwxy]$"),E=function(a){var c,k,f,b,d,j,E,e;return a.length<3?a:("y"==(f=a.substr(0,1))&&(a=f.toUpperCase()+a.substr(1)),d=p,(b=o).test(a)?a=a.replace(b,"$1$2"):d.test(a)&&(a=a.replace(d,"$1$2")),d=r,(b=q).test(a)?(e=b.exec(a),(b=h).test(e[1])&&(b=i,a=a.replace(b,""))):d.test(a)&&(c=(e=d.exec(a))[1],(d=n).test(c)&&(j=l,E=v,(d=t).test(a=c)?a+="e":j.test(a)?(b=i,a=a.replace(b,"")):E.test(a)&&(a+="e"))),(b=w).test(a)&&(a=(c=(e=b.exec(a))[1])+"i"),(b=x).test(a)&&(c=(e=b.exec(a))[1],k=e[2],(b=h).test(c)&&(a=c+s[k])),(b=y).test(a)&&(c=(e=b.exec(a))[1],k=e[2],(b=h).test(c)&&(a=c+u[k])),d=A,(b=z).test(a)?(c=(e=b.exec(a))[1],(b=g).test(c)&&(a=c)):d.test(a)&&(c=(e=d.exec(a))[1]+e[2],(d=g).test(c)&&(a=c)),(b=B).test(a)&&(c=(e=b.exec(a))[1],d=m,j=D,((b=g).test(c)||d.test(c)&&!j.test(c))&&(a=c)),d=g,(b=C).test(a)&&d.test(a)&&(b=i,a=a.replace(b,"")),"y"==f&&(a=f.toLowerCase()+a.substr(1)),a)},function(a){return a.update(E)}),f.Pipeline.registerFunction(f.stemmer,"stemmer"),f.generateStopWordFilter=function(a){var b=a.reduce(function(a,b){return a[b]=b,a},{});return function(a){if(a&&b[a.toString()]!==a.toString())return a}},f.stopWordFilter=f.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),f.Pipeline.registerFunction(f.stopWordFilter,"stopWordFilter"),f.trimmer=function(a){return a.update(function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")})},f.Pipeline.registerFunction(f.trimmer,"trimmer"),f.TokenSet=function(){this.final=!1,this.edges={},this.id=f.TokenSet._nextId,f.TokenSet._nextId+=1},f.TokenSet._nextId=1,f.TokenSet.fromArray=function(c){for(var a=new f.TokenSet.Builder,b=0,d=c.length;b<d;b++)a.insert(c[b]);return a.finish(),a.root},f.TokenSet.fromClause=function(a){return"editDistance"in a?f.TokenSet.fromFuzzyString(a.term,a.editDistance):f.TokenSet.fromString(a.term)},f.TokenSet.fromFuzzyString=function(k,l){for(var j=new f.TokenSet,b=[{node:j,editsRemaining:l,str:k}],a,c,h,e,g,d,m,i;b.length;)a=b.pop(),a.str.length>0&&(h=a.str.charAt(0),h in a.node.edges?c=a.node.edges[h]:(c=new f.TokenSet,a.node.edges[h]=c),1==a.str.length&&(c.final=!0),b.push({node:c,editsRemaining:a.editsRemaining,str:a.str.slice(1)})),0!=a.editsRemaining&&("*"in a.node.edges?(e=a.node.edges["*"]):(e=new f.TokenSet,a.node.edges["*"]=e),(0==a.str.length&&(e.final=!0),b.push({node:e,editsRemaining:a.editsRemaining-1,str:a.str}),a.str.length>1&&b.push({node:a.node,editsRemaining:a.editsRemaining-1,str:a.str.slice(1)}),1==a.str.length&&(a.node.final=!0),a.str.length>=1)&&("*"in a.node.edges?(g=a.node.edges["*"]):(g=new f.TokenSet,a.node.edges["*"]=g),1==a.str.length&&(g.final=!0),b.push({node:g,editsRemaining:a.editsRemaining-1,str:a.str.slice(1)})),a.str.length>1&&(m=a.str.charAt(0),i=a.str.charAt(1),i in a.node.edges?d=a.node.edges[i]:(d=new f.TokenSet,a.node.edges[i]=d),1==a.str.length&&(d.final=!0),b.push({node:d,editsRemaining:a.editsRemaining-1,str:m+a.str.slice(2)})));return j},f.TokenSet.fromString=function(e){for(var a=new f.TokenSet,i=a,b=0,g=e.length,c,h,d;b<g;b++)c=e[b],h=b==g-1,"*"==c?(a.edges[c]=a,a.final=h):(d=new f.TokenSet,d.final=h,a.edges[c]=d,a=d);return i},f.TokenSet.prototype.toArray=function(){for(var d=[],b=[{prefix:"",node:this}],a,e,g,c,f;b.length;){a=b.pop(),e=Object.keys(a.node.edges),g=e.length,a.node.final&&(a.prefix.charAt(0),d.push(a.prefix));for(c=0;c<g;c++)f=e[c],b.push({prefix:a.prefix.concat(f),node:a.node.edges[f]})}return d},f.TokenSet.prototype.toString=function(){var a,c,e,b,d;if(this._str)return this._str;for(a=this.final?"1":"0",c=Object.keys(this.edges).sort(),e=c.length,b=0;b<e;b++)d=c[b],a=a+d+this.edges[d].id;return a},f.TokenSet.prototype.intersect=function(q){for(var l=new f.TokenSet,a=void 0,d=[{qNode:q,output:l,node:this}],k,o,j,p,h,g,e,c,m,i,n,b;d.length;){a=d.pop();for(k=Object.keys(a.qNode.edges),o=k.length,j=Object.keys(a.node.edges),p=j.length,h=0;h<o;h++)for(g=k[h],e=0;e<p;e++)c=j[e],(c==g||"*"==g)&&(m=a.node.edges[c],i=a.qNode.edges[g],n=m.final&&i.final,b=void 0,c in a.output.edges?(b=a.output.edges[c]).final=b.final||n:((b=new f.TokenSet).final=n,a.output.edges[c]=b),d.push({qNode:i,output:b,node:m}))}return l},f.TokenSet.Builder=function(){this.previousWord="",this.root=new f.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},f.TokenSet.Builder.prototype.insert=function(b){var c,d=0,a,e,g;if(b<this.previousWord)throw new Error("Out of order word insertion");for(a=0;a<b.length&&a<this.previousWord.length&&b[a]==this.previousWord[a];a++)d++;for(this.minimize(d),c=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child,a=d;a<b.length;a++)e=new f.TokenSet,g=b[a],c.edges[g]=e,this.uncheckedNodes.push({parent:c,char:g,child:e}),c=e;c.final=!0,this.previousWord=b},f.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},f.TokenSet.Builder.prototype.minimize=function(d){for(var c=this.uncheckedNodes.length-1,a,b;c>=d;c--)a=this.uncheckedNodes[c],b=a.child.toString(),b in this.minimizedNodes?a.parent.edges[a.char]=this.minimizedNodes[b]:(a.child._str=b,this.minimizedNodes[b]=a.child),this.uncheckedNodes.pop()},f.Index=function(a){this.invertedIndex=a.invertedIndex,this.fieldVectors=a.fieldVectors,this.tokenSet=a.tokenSet,this.fields=a.fields,this.pipeline=a.pipeline},f.Index.prototype.search=function(a){return this.query(function(b){new f.QueryParser(a,b).parse()})},f.Index.prototype.query=function(L){for(var k=new f.Query(this.fields),g=Object.create(null),t=Object.create(null),z=Object.create(null),e=Object.create(null),h=Object.create(null),a=0,q,c,v,o,M,P,p,d,r,n,G,O,K,w,C,H,x,A,B,j,D,u,y,b,i,I,J,m,l,s,N,E,F;a<this.fields.length;a++)t[this.fields[a]]=new f.Vector;for(L.call(k,k),a=0;a<k.clauses.length;a++){c=k.clauses[a],v=f.Set.empty,q=c.usePipeline?this.pipeline.runString(c.term,{fields:c.fields}):[c.term];for(o=0;o<q.length;o++){if(M=q[o],c.term=M,P=f.TokenSet.fromClause(c),p=this.tokenSet.intersect(P).toArray(),0===p.length&&c.presence===f.Query.presence.REQUIRED){for(d=0;d<c.fields.length;d++)e[b=c.fields[d]]=f.Set.empty;break}for(r=0;r<p.length;r++){n=p[r],G=this.invertedIndex[n],O=G._index;for(d=0;d<c.fields.length;d++)if(K=G[b=c.fields[d]],w=Object.keys(K),C=n+"/"+b,H=new f.Set(w),c.presence==f.Query.presence.REQUIRED&&(v=v.union(H),void 0===e[b]&&(e[b]=f.Set.complete)),c.presence!=f.Query.presence.PROHIBITED){if(t[b].upsert(O,c.boost,function(a,b){return a+b}),!z[C]){for(x=0;x<w.length;x++)B=w[x],j=new f.FieldRef(B,b),D=K[B],void 0===(A=g[j])?g[j]=new f.MatchData(n,b,D):A.add(n,b,D);z[C]=!0}}else void 0===h[b]&&(h[b]=f.Set.empty),h[b]=h[b].union(H)}}if(c.presence===f.Query.presence.REQUIRED)for(d=0;d<c.fields.length;d++)e[b=c.fields[d]]=e[b].intersect(v)}u=f.Set.complete,y=f.Set.empty;for(a=0;a<this.fields.length;a++)e[b=this.fields[a]]&&(u=u.intersect(e[b])),h[b]&&(y=y.union(h[b]));if(i=Object.keys(g),I=[],J=Object.create(null),k.isNegated())for(i=Object.keys(this.fieldVectors),a=0;a<i.length;a++)j=i[a],m=f.FieldRef.fromString(j),g[j]=new f.MatchData;for(a=0;a<i.length;a++)l=(m=f.FieldRef.fromString(i[a])).docRef,u.contains(l)&&!y.contains(l)&&(N=this.fieldVectors[m],E=t[m.fieldName].similarity(N),void 0!==(s=J[l])?(s.score+=E,s.matchData.combine(g[m])):(F={ref:l,score:E,matchData:g[m]},J[l]=F,I.push(F)));return I.sort(function(a,b){return b.score-a.score})},f.Index.prototype.toJSON=function(){var a=Object.keys(this.invertedIndex).sort().map(function(a){return[a,this.invertedIndex[a]]},this),b=Object.keys(this.fieldVectors).map(function(a){return[a,this.fieldVectors[a].toJSON()]},this);return{version:f.version,fields:this.fields,fieldVectors:b,invertedIndex:a,pipeline:this.pipeline.toJSON()}},f.Index.load=function(c){var b={},j={},g=c.fieldVectors,h=Object.create(null),i=c.invertedIndex,e=new f.TokenSet.Builder,l=f.Pipeline.load(c.pipeline),a,n,m,d,k,o;c.version!=f.version&&f.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+f.version+"' does not match serialized index '"+c.version+"'");for(a=0;a<g.length;a++)n=(d=g[a])[0],m=d[1],j[n]=new f.Vector(m);for(a=0;a<i.length;a++)k=(d=i[a])[0],o=d[1],e.insert(k),h[k]=o;return e.finish(),b.fields=c.fields,b.fieldVectors=j,b.invertedIndex=h,b.tokenSet=e.root,b.pipeline=l,new f.Index(b)},f.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=f.tokenizer,this.pipeline=new f.Pipeline,this.searchPipeline=new f.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},f.Builder.prototype.ref=function(a){this._ref=a},f.Builder.prototype.field=function(a,b){if(/\//.test(a))throw new RangeError("Field '"+a+"' contains illegal character '/'");this._fields[a]=b||{}},f.Builder.prototype.b=function(a){this._b=a<0?0:a>1?1:a},f.Builder.prototype.k1=function(a){this._k1=a},f.Builder.prototype.add=function(o,s){var c=o[this._ref],e=Object.keys(this._fields),m,b,p,r,q,k,l,g,n,a,j,i,h,d,t;this._documents[c]=s||{},this.documentCount+=1;for(m=0;m<e.length;m++){b=e[m],p=this._fields[b].extractor,r=p?p(o):o[b],q=this.tokenizer(r,{fields:[b]}),k=this.pipeline.run(q),l=new f.FieldRef(c,b),g=Object.create(null),this.fieldTermFrequencies[l]=g,this.fieldLengths[l]=0,this.fieldLengths[l]+=k.length;for(n=0;n<k.length;n++){if(a=k[n],null==g[a]&&(g[a]=0),g[a]+=1,null==this.invertedIndex[a]){j=Object.create(null),j._index=this.termIndex,this.termIndex+=1;for(i=0;i<e.length;i++)j[e[i]]=Object.create(null);this.invertedIndex[a]=j}null==this.invertedIndex[a][b][c]&&(this.invertedIndex[a][b][c]=Object.create(null));for(h=0;h<this.metadataWhitelist.length;h++)d=this.metadataWhitelist[h],t=a.metadata[d],null==this.invertedIndex[a][b][c][d]&&(this.invertedIndex[a][b][c][d]=[]),this.invertedIndex[a][b][c][d].push(t)}}},f.Builder.prototype.calculateAverageFieldLengths=function(){for(var i=Object.keys(this.fieldLengths),j=i.length,c={},d={},a=0,h,b,g,e;a<j;a++)h=f.FieldRef.fromString(i[a]),b=h.fieldName,d[b]||(d[b]=0),d[b]+=1,c[b]||(c[b]=0),c[b]+=this.fieldLengths[h];g=Object.keys(this._fields);for(a=0;a<g.length;a++)e=g[a],c[e]=c[e]/d[e];this.averageFieldLength=c},f.Builder.prototype.createFieldVectors=function(){for(var p={},n=Object.keys(this.fieldTermFrequencies),u=n.length,g=Object.create(null),e=0,b,i,t,j,k,l,s,r,q,h,d,c,m,a,o,v;e<u;e++){for(b=f.FieldRef.fromString(n[e]),i=b.fieldName,t=this.fieldLengths[b],j=new f.Vector,k=this.fieldTermFrequencies[b],l=Object.keys(k),s=l.length,r=this._fields[i].boost||1,q=this._documents[b.docRef].boost||1,h=0;h<s;h++)a=l[h],o=k[a],v=this.invertedIndex[a]._index,void 0===g[a]?(d=f.idf(this.invertedIndex[a],this.documentCount),g[a]=d):d=g[a],c=d*((this._k1+1)*o)/(this._k1*(1-this._b+this._b*(t/this.averageFieldLength[i]))+o),c*=r,c*=q,m=Math.round(1e3*c)/1e3,j.insert(v,m);p[b]=j}this.fieldVectors=p},f.Builder.prototype.createTokenSet=function(){this.tokenSet=f.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},f.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new f.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},f.Builder.prototype.use=function(b){var a=Array.prototype.slice.call(arguments,1);a.unshift(this),b.apply(this,a)},f.MatchData=function(a,g,c){for(var d=Object.create(null),e=Object.keys(c||{}),b=0,f;b<e.length;b++)f=e[b],d[f]=c[f].slice();this.metadata=Object.create(null),void 0!==a&&(this.metadata[a]=Object.create(null),this.metadata[a][g]=d)},f.MatchData.prototype.combine=function(d){for(var h=Object.keys(d.metadata),e=0,a,i,f,b,j,g,c;e<h.length;e++){a=h[e],i=Object.keys(d.metadata[a]),null==this.metadata[a]&&(this.metadata[a]=Object.create(null));for(f=0;f<i.length;f++){b=i[f],j=Object.keys(d.metadata[a][b]),null==this.metadata[a][b]&&(this.metadata[a][b]=Object.create(null));for(g=0;g<j.length;g++)c=j[g],null==this.metadata[a][b][c]?this.metadata[a][b][c]=d.metadata[a][b][c]:this.metadata[a][b][c]=this.metadata[a][b][c].concat(d.metadata[a][b][c])}}},f.MatchData.prototype.add=function(a,b,d){var f,e,c;if(!(a in this.metadata))return this.metadata[a]=Object.create(null),void(this.metadata[a][b]=d);if(b in this.metadata[a])for(f=Object.keys(d),e=0;e<f.length;e++)c=f[e],c in this.metadata[a][b]?this.metadata[a][b][c]=this.metadata[a][b][c].concat(d[c]):this.metadata[a][b][c]=d[c];else this.metadata[a][b]=d},f.Query=function(a){this.clauses=[],this.allFields=a},f.Query.wildcard=new String("*"),f.Query.wildcard.NONE=0,f.Query.wildcard.LEADING=1,f.Query.wildcard.TRAILING=2,f.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},f.Query.prototype.clause=function(a){return"fields"in a||(a.fields=this.allFields),"boost"in a||(a.boost=1),"usePipeline"in a||(a.usePipeline=!0),"wildcard"in a||(a.wildcard=f.Query.wildcard.NONE),a.wildcard&f.Query.wildcard.LEADING&&a.term.charAt(0)!=f.Query.wildcard&&(a.term="*"+a.term),a.wildcard&f.Query.wildcard.TRAILING&&a.term.slice(-1)!=f.Query.wildcard&&(a.term=a.term+"*"),"presence"in a||(a.presence=f.Query.presence.OPTIONAL),this.clauses.push(a),this},f.Query.prototype.isNegated=function(){for(var a=0;a<this.clauses.length;a++)if(this.clauses[a].presence!=f.Query.presence.PROHIBITED)return!1;return!0},f.Query.prototype.term=function(a,b){if(Array.isArray(a))return a.forEach(function(a){this.term(a,f.utils.clone(b))},this),this;var c=b||{};return c.term=a.toString(),this.clause(c),this},f.QueryParseError=function(a,b,c){this.name="QueryParseError",this.message=a,this.start=b,this.end=c},f.QueryParseError.prototype=new Error,f.QueryLexer=function(a){this.lexemes=[],this.str=a,this.length=a.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},f.QueryLexer.prototype.run=function(){for(var a=f.QueryLexer.lexText;a;)a=a(this)},f.QueryLexer.prototype.sliceString=function(){for(var a=[],b=this.start,c=this.pos,d=0;d<this.escapeCharPositions.length;d++)c=this.escapeCharPositions[d],a.push(this.str.slice(b,c)),b=c+1;return a.push(this.str.slice(b,this.pos)),this.escapeCharPositions.length=0,a.join("")},f.QueryLexer.prototype.emit=function(a){this.lexemes.push({type:a,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},f.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},f.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return f.QueryLexer.EOS;var a=this.str.charAt(this.pos);return this.pos+=1,a},f.QueryLexer.prototype.width=function(){return this.pos-this.start},f.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},f.QueryLexer.prototype.backup=function(){this.pos-=1},f.QueryLexer.prototype.acceptDigitRun=function(){var b,a;do a=(b=this.next()).charCodeAt(0);while(a>47&&a<58)b!=f.QueryLexer.EOS&&this.backup()},f.QueryLexer.prototype.more=function(){return this.pos<this.length},f.QueryLexer.EOS="EOS",f.QueryLexer.FIELD="FIELD",f.QueryLexer.TERM="TERM",f.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",f.QueryLexer.BOOST="BOOST",f.QueryLexer.PRESENCE="PRESENCE",f.QueryLexer.lexField=function(a){return a.backup(),a.emit(f.QueryLexer.FIELD),a.ignore(),f.QueryLexer.lexText},f.QueryLexer.lexTerm=function(a){if(a.width()>1&&(a.backup(),a.emit(f.QueryLexer.TERM)),a.ignore(),a.more())return f.QueryLexer.lexText},f.QueryLexer.lexEditDistance=function(a){return a.ignore(),a.acceptDigitRun(),a.emit(f.QueryLexer.EDIT_DISTANCE),f.QueryLexer.lexText},f.QueryLexer.lexBoost=function(a){return a.ignore(),a.acceptDigitRun(),a.emit(f.QueryLexer.BOOST),f.QueryLexer.lexText},f.QueryLexer.lexEOS=function(a){a.width()>0&&a.emit(f.QueryLexer.TERM)},f.QueryLexer.termSeparator=f.tokenizer.separator,f.QueryLexer.lexText=function(a){for(;;){var b=a.next();if(b==f.QueryLexer.EOS)return f.QueryLexer.lexEOS;if(92!=b.charCodeAt(0)){{if(":"==b)return f.QueryLexer.lexField;if("~"==b)return a.backup(),a.width()>0&&a.emit(f.QueryLexer.TERM),f.QueryLexer.lexEditDistance;if("^"==b)return a.backup(),a.width()>0&&a.emit(f.QueryLexer.TERM),f.QueryLexer.lexBoost;if("+"==b&&1===a.width())return a.emit(f.QueryLexer.PRESENCE),f.QueryLexer.lexText;if("-"==b&&1===a.width())return a.emit(f.QueryLexer.PRESENCE),f.QueryLexer.lexText;if(b.match(f.QueryLexer.termSeparator))return f.QueryLexer.lexTerm}}else a.escapeCharacter()}},f.QueryParser=function(a,b){this.lexer=new f.QueryLexer(a),this.query=b,this.currentClause={},this.lexemeIdx=0},f.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var a=f.QueryParser.parseClause;a;)a=a(this);return this.query},f.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},f.QueryParser.prototype.consumeLexeme=function(){var a=this.peekLexeme();return this.lexemeIdx+=1,a},f.QueryParser.prototype.nextClause=function(){var a=this.currentClause;this.query.clause(a),this.currentClause={}},f.QueryParser.parseClause=function(c){var a=c.peekLexeme(),b;if(null!=a)switch(a.type){case f.QueryLexer.PRESENCE:return f.QueryParser.parsePresence;case f.QueryLexer.FIELD:return f.QueryParser.parseField;case f.QueryLexer.TERM:return f.QueryParser.parseTerm;default:throw b="expected either a field or a term, found "+a.type,a.str.length>=1&&(b+=" with value '"+a.str+"'"),new f.QueryParseError(b,a.start,a.end);throw b="expected either a field or a term, found "+a.type,a.str.length>=1&&(b+=" with value '"+a.str+"'"),new f.QueryParseError(b,a.start,a.end)}},f.QueryParser.parsePresence=function(d){var a=d.consumeLexeme(),b,c;if(null!=a){switch(a.str){case"-":d.currentClause.presence=f.Query.presence.PROHIBITED;break;case"+":d.currentClause.presence=f.Query.presence.REQUIRED;break;default:throw b="unrecognised presence operator'"+a.str+"'",new f.QueryParseError(b,a.start,a.end);throw b="unrecognised presence operator'"+a.str+"'",new f.QueryParseError(b,a.start,a.end)}if(c=d.peekLexeme(),null==c)throw b="expecting term or field, found nothing",new f.QueryParseError(b,a.start,a.end);switch(c.type){case f.QueryLexer.FIELD:return f.QueryParser.parseField;case f.QueryLexer.TERM:return f.QueryParser.parseTerm;default:throw b="expecting term or field, found '"+c.type+"'",new f.QueryParseError(b,c.start,c.end)}}},f.QueryParser.parseField=function(b){var a=b.consumeLexeme(),e,c,d;if(null!=a){if(-1==b.query.allFields.indexOf(a.str))throw e=b.query.allFields.map(function(a){return"'"+a+"'"}).join(", "),c="unrecognised field '"+a.str+"', possible fields: "+e,new f.QueryParseError(c,a.start,a.end);if(b.currentClause.fields=[a.str],d=b.peekLexeme(),null==d)throw c="expecting term, found nothing",new f.QueryParseError(c,a.start,a.end);switch(d.type){case f.QueryLexer.TERM:return f.QueryParser.parseTerm;default:throw c="expecting term, found '"+d.type+"'",new f.QueryParseError(c,d.start,d.end)}}},f.QueryParser.parseTerm=function(a){var c=a.consumeLexeme(),b,d;if(null!=c)if(a.currentClause.term=c.str.toLowerCase(),-1!=c.str.indexOf("*")&&(a.currentClause.usePipeline=!1),b=a.peekLexeme(),null!=b)switch(b.type){case f.QueryLexer.TERM:return a.nextClause(),f.QueryParser.parseTerm;case f.QueryLexer.FIELD:return a.nextClause(),f.QueryParser.parseField;case f.QueryLexer.EDIT_DISTANCE:return f.QueryParser.parseEditDistance;case f.QueryLexer.BOOST:return f.QueryParser.parseBoost;case f.QueryLexer.PRESENCE:return a.nextClause(),f.QueryParser.parsePresence;default:throw d="Unexpected lexeme type '"+b.type+"'",new f.QueryParseError(d,b.start,b.end);throw d="Unexpected lexeme type '"+b.type+"'",new f.QueryParseError(d,b.start,b.end)}else a.nextClause()},f.QueryParser.parseEditDistance=function(a){var c=a.consumeLexeme(),e,d,b;if(null!=c){if(e=parseInt(c.str,10),isNaN(e))throw d="edit distance must be numeric",new f.QueryParseError(d,c.start,c.end);if(a.currentClause.editDistance=e,b=a.peekLexeme(),null!=b)switch(b.type){case f.QueryLexer.TERM:return a.nextClause(),f.QueryParser.parseTerm;case f.QueryLexer.FIELD:return a.nextClause(),f.QueryParser.parseField;case f.QueryLexer.EDIT_DISTANCE:return f.QueryParser.parseEditDistance;case f.QueryLexer.BOOST:return f.QueryParser.parseBoost;case f.QueryLexer.PRESENCE:return a.nextClause(),f.QueryParser.parsePresence;default:throw d="Unexpected lexeme type '"+b.type+"'",new f.QueryParseError(d,b.start,b.end)}else a.nextClause()}},f.QueryParser.parseBoost=function(a){var c=a.consumeLexeme(),e,d,b;if(null!=c){if(e=parseInt(c.str,10),isNaN(e))throw d="boost must be numeric",new f.QueryParseError(d,c.start,c.end);if(a.currentClause.boost=e,b=a.peekLexeme(),null!=b)switch(b.type){case f.QueryLexer.TERM:return a.nextClause(),f.QueryParser.parseTerm;case f.QueryLexer.FIELD:return a.nextClause(),f.QueryParser.parseField;case f.QueryLexer.EDIT_DISTANCE:return f.QueryParser.parseEditDistance;case f.QueryLexer.BOOST:return f.QueryParser.parseBoost;case f.QueryLexer.PRESENCE:return a.nextClause(),f.QueryParser.parsePresence;default:throw d="Unexpected lexeme type '"+b.type+"'",new f.QueryParseError(d,b.start,b.end)}else a.nextClause()}},void 0===(d="function"==typeof(a=function(){return f})?a.call(c,e,c,b):a)||(b.exports=d)}()}},b={};function a(d){var f=b[d],e;return void 0!==f?f.exports:(e=b[d]={exports:{}},c[d](e,e.exports,a),e.exports)}a.n=b=>{var c=b&&b.__esModule?()=>b.default:()=>b;return a.d(c,{a:c}),c},a.d=(d,c)=>{for(var b in c)a.o(c,b)&&!a.o(d,b)&&Object.defineProperty(d,b,{enumerable:!0,get:c[b]})},a.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),(()=>{"use strict";var c=a(669),d=a.n(c),e=a(336),b=a.n(e);window.SearchApp={searchField:document.getElementById("searchField"),searchButton:document.getElementById("searchButton"),allwords:document.getElementById("allwords"),output:document.getElementById("output"),searchData:{},searchIndex:{}},d().get("/search/index.json").then(a=>{SearchApp.searchData=a.data,SearchApp.searchIndex=b()(function(){this.pipeline.remove(b().stemmer),this.searchPipeline.remove(b().stemmer),this.ref("href"),this.field("title"),this.field("body"),a.data.results.forEach(a=>{this.add(a)})})}),SearchApp.searchButton.addEventListener("click",function(){let a=SearchApp.searchField.value;if(!a)return"";a=a.split(" ").map(a=>a+"*").join(" "),SearchApp.allwords.checked&&(a=a.split(" ").map(a=>"+"+a).join(" "));let c=SearchApp.searchIndex.search(a),b=[];c.map(a=>{SearchApp.searchData.results.filter(c=>{a.ref==c.href&&b.push(c)})}),function(a){if(SearchApp.output.innerText="",a.length>0){const b=document.createElement("ul");a.forEach(c=>{const d=document.createElement("li"),a=document.createElement("a");a.href=c.href,a.text=c.title,d.appendChild(a),b.appendChild(d)}),SearchApp.output.appendChild(b)}else SearchApp.output.innerHTML="Nothing found"}(b)})})()})()